{
  "version": 3,
  "sources": ["../../unenv/dist/runtime/node/internal/http/request.mjs", "../../unenv/dist/runtime/node/internal/http/response.mjs", "../../unenv/dist/runtime/node/internal/http/constants.mjs", "../../unenv/dist/runtime/node/http.mjs"],
  "sourcesContent": ["import { Socket } from \"node:net\";\r\nimport { Readable } from \"node:stream\";\r\nimport { rawHeaders } from \"../../../_internal/utils.mjs\";\r\n// Docs: https://nodejs.org/api/http.html#http_class_http_incomingmessage\r\n// Implementation: https://github.com/nodejs/node/blob/master/lib/_http_incoming.js\r\nexport class IncomingMessage extends Readable {\r\n\t__unenv__ = {};\r\n\taborted = false;\r\n\thttpVersion = \"1.1\";\r\n\thttpVersionMajor = 1;\r\n\thttpVersionMinor = 1;\r\n\tcomplete = true;\r\n\tconnection;\r\n\tsocket;\r\n\theaders = {};\r\n\ttrailers = {};\r\n\tmethod = \"GET\";\r\n\turl = \"/\";\r\n\tstatusCode = 200;\r\n\tstatusMessage = \"\";\r\n\tclosed = false;\r\n\terrored = null;\r\n\treadable = false;\r\n\tconstructor(socket) {\r\n\t\tsuper();\r\n\t\tthis.socket = this.connection = socket || new Socket();\r\n\t}\r\n\tget rawHeaders() {\r\n\t\treturn rawHeaders(this.headers);\r\n\t}\r\n\tget rawTrailers() {\r\n\t\treturn [];\r\n\t}\r\n\tsetTimeout(_msecs, _callback) {\r\n\t\treturn this;\r\n\t}\r\n\tget headersDistinct() {\r\n\t\treturn _distinct(this.headers);\r\n\t}\r\n\tget trailersDistinct() {\r\n\t\treturn _distinct(this.trailers);\r\n\t}\r\n\t_read() {}\r\n}\r\nfunction _distinct(obj) {\r\n\tconst d = {};\r\n\tfor (const [key, value] of Object.entries(obj)) {\r\n\t\tif (key) {\r\n\t\t\td[key] = (Array.isArray(value) ? value : [value]).filter(Boolean);\r\n\t\t}\r\n\t}\r\n\treturn d;\r\n}\r\n", "import { Writable } from \"node:stream\";\r\n// Docs: https://nodejs.org/api/http.html#http_class_http_serverresponse\r\n// Implementation: https://github.com/nodejs/node/blob/master/lib/_http_outgoing.js\r\nexport class ServerResponse extends Writable {\r\n\t__unenv__ = true;\r\n\tstatusCode = 200;\r\n\tstatusMessage = \"\";\r\n\tupgrading = false;\r\n\tchunkedEncoding = false;\r\n\tshouldKeepAlive = false;\r\n\tuseChunkedEncodingByDefault = false;\r\n\tsendDate = false;\r\n\tfinished = false;\r\n\theadersSent = false;\r\n\tstrictContentLength = false;\r\n\tconnection = null;\r\n\tsocket = null;\r\n\treq;\r\n\t_headers = {};\r\n\tconstructor(req) {\r\n\t\tsuper();\r\n\t\tthis.req = req;\r\n\t}\r\n\tassignSocket(socket) {\r\n\t\t// @ts-ignore\r\n\t\tsocket._httpMessage = this;\r\n\t\t// socket.on('close', onServerResponseClose)\r\n\t\tthis.socket = socket;\r\n\t\tthis.connection = socket;\r\n\t\tthis.emit(\"socket\", socket);\r\n\t\tthis._flush();\r\n\t}\r\n\t_flush() {\r\n\t\tthis.flushHeaders();\r\n\t}\r\n\tdetachSocket(_socket) {}\r\n\twriteContinue(_callback) {}\r\n\twriteHead(statusCode, arg1, arg2) {\r\n\t\tif (statusCode) {\r\n\t\t\tthis.statusCode = statusCode;\r\n\t\t}\r\n\t\tif (typeof arg1 === \"string\") {\r\n\t\t\tthis.statusMessage = arg1;\r\n\t\t\targ1 = undefined;\r\n\t\t}\r\n\t\tconst headers = arg2 || arg1;\r\n\t\tif (headers) {\r\n\t\t\tif (Array.isArray(headers)) {} else {\r\n\t\t\t\tfor (const key in headers) {\r\n\t\t\t\t\t// @ts-ignore\r\n\t\t\t\t\tthis.setHeader(key, headers[key]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.headersSent = true;\r\n\t\treturn this;\r\n\t}\r\n\twriteProcessing() {}\r\n\tsetTimeout(_msecs, _callback) {\r\n\t\treturn this;\r\n\t}\r\n\tappendHeader(name, value) {\r\n\t\tname = name.toLowerCase();\r\n\t\tconst current = this._headers[name];\r\n\t\tconst all = [...Array.isArray(current) ? current : [current], ...Array.isArray(value) ? value : [value]].filter(Boolean);\r\n\t\tthis._headers[name] = all.length > 1 ? all : all[0];\r\n\t\treturn this;\r\n\t}\r\n\tsetHeader(name, value) {\r\n\t\tthis._headers[name.toLowerCase()] = Array.isArray(value) ? [...value] : value;\r\n\t\treturn this;\r\n\t}\r\n\tsetHeaders(headers) {\r\n\t\tfor (const [key, value] of headers.entries()) {\r\n\t\t\tthis.setHeader(key, value);\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\tgetHeader(name) {\r\n\t\treturn this._headers[name.toLowerCase()];\r\n\t}\r\n\tgetHeaders() {\r\n\t\treturn this._headers;\r\n\t}\r\n\tgetHeaderNames() {\r\n\t\treturn Object.keys(this._headers);\r\n\t}\r\n\thasHeader(name) {\r\n\t\treturn name.toLowerCase() in this._headers;\r\n\t}\r\n\tremoveHeader(name) {\r\n\t\tdelete this._headers[name.toLowerCase()];\r\n\t}\r\n\taddTrailers(_headers) {}\r\n\tflushHeaders() {}\r\n\twriteEarlyHints(_headers, cb) {\r\n\t\tif (typeof cb === \"function\") {\r\n\t\t\tcb();\r\n\t\t}\r\n\t}\r\n}\r\n", "export const METHODS = [\r\n\t\"ACL\",\r\n\t\"BIND\",\r\n\t\"CHECKOUT\",\r\n\t\"CONNECT\",\r\n\t\"COPY\",\r\n\t\"DELETE\",\r\n\t\"GET\",\r\n\t\"HEAD\",\r\n\t\"LINK\",\r\n\t\"LOCK\",\r\n\t\"M-SEARCH\",\r\n\t\"MERGE\",\r\n\t\"MKACTIVITY\",\r\n\t\"MKCALENDAR\",\r\n\t\"MKCOL\",\r\n\t\"MOVE\",\r\n\t\"NOTIFY\",\r\n\t\"OPTIONS\",\r\n\t\"PATCH\",\r\n\t\"POST\",\r\n\t\"PRI\",\r\n\t\"PROPFIND\",\r\n\t\"PROPPATCH\",\r\n\t\"PURGE\",\r\n\t\"PUT\",\r\n\t\"REBIND\",\r\n\t\"REPORT\",\r\n\t\"SEARCH\",\r\n\t\"SOURCE\",\r\n\t\"SUBSCRIBE\",\r\n\t\"TRACE\",\r\n\t\"UNBIND\",\r\n\t\"UNLINK\",\r\n\t\"UNLOCK\",\r\n\t\"UNSUBSCRIBE\"\r\n];\r\nexport const STATUS_CODES = {\r\n\t100: \"Continue\",\r\n\t101: \"Switching Protocols\",\r\n\t102: \"Processing\",\r\n\t103: \"Early Hints\",\r\n\t200: \"OK\",\r\n\t201: \"Created\",\r\n\t202: \"Accepted\",\r\n\t203: \"Non-Authoritative Information\",\r\n\t204: \"No Content\",\r\n\t205: \"Reset Content\",\r\n\t206: \"Partial Content\",\r\n\t207: \"Multi-Status\",\r\n\t208: \"Already Reported\",\r\n\t226: \"IM Used\",\r\n\t300: \"Multiple Choices\",\r\n\t301: \"Moved Permanently\",\r\n\t302: \"Found\",\r\n\t303: \"See Other\",\r\n\t304: \"Not Modified\",\r\n\t305: \"Use Proxy\",\r\n\t307: \"Temporary Redirect\",\r\n\t308: \"Permanent Redirect\",\r\n\t400: \"Bad Request\",\r\n\t401: \"Unauthorized\",\r\n\t402: \"Payment Required\",\r\n\t403: \"Forbidden\",\r\n\t404: \"Not Found\",\r\n\t405: \"Method Not Allowed\",\r\n\t406: \"Not Acceptable\",\r\n\t407: \"Proxy Authentication Required\",\r\n\t408: \"Request Timeout\",\r\n\t409: \"Conflict\",\r\n\t410: \"Gone\",\r\n\t411: \"Length Required\",\r\n\t412: \"Precondition Failed\",\r\n\t413: \"Payload Too Large\",\r\n\t414: \"URI Too Long\",\r\n\t415: \"Unsupported Media Type\",\r\n\t416: \"Range Not Satisfiable\",\r\n\t417: \"Expectation Failed\",\r\n\t418: \"I'm a Teapot\",\r\n\t421: \"Misdirected Request\",\r\n\t422: \"Unprocessable Entity\",\r\n\t423: \"Locked\",\r\n\t424: \"Failed Dependency\",\r\n\t425: \"Too Early\",\r\n\t426: \"Upgrade Required\",\r\n\t428: \"Precondition Required\",\r\n\t429: \"Too Many Requests\",\r\n\t431: \"Request Header Fields Too Large\",\r\n\t451: \"Unavailable For Legal Reasons\",\r\n\t500: \"Internal Server Error\",\r\n\t501: \"Not Implemented\",\r\n\t502: \"Bad Gateway\",\r\n\t503: \"Service Unavailable\",\r\n\t504: \"Gateway Timeout\",\r\n\t505: \"HTTP Version Not Supported\",\r\n\t506: \"Variant Also Negotiates\",\r\n\t507: \"Insufficient Storage\",\r\n\t508: \"Loop Detected\",\r\n\t509: \"Bandwidth Limit Exceeded\",\r\n\t510: \"Not Extended\",\r\n\t511: \"Network Authentication Required\"\r\n};\r\nexport const maxHeaderSize = 16384;\r\n", "import { notImplemented, notImplementedClass } from \"../_internal/utils.mjs\";\r\nimport { IncomingMessage } from \"./internal/http/request.mjs\";\r\nimport { ServerResponse } from \"./internal/http/response.mjs\";\r\nimport { Agent } from \"./internal/http/agent.mjs\";\r\nimport { METHODS, STATUS_CODES, maxHeaderSize } from \"./internal/http/constants.mjs\";\r\nexport { METHODS, STATUS_CODES, maxHeaderSize };\r\nexport * from \"./internal/http/request.mjs\";\r\nexport * from \"./internal/http/response.mjs\";\r\nexport { Agent } from \"./internal/http/agent.mjs\";\r\nexport const createServer = /* @__PURE__ */ notImplemented(\"http.createServer\");\r\nexport const request = /* @__PURE__ */ notImplemented(\"http.request\");\r\nexport const get = /* @__PURE__ */ notImplemented(\"http.get\");\r\nexport const Server = /* @__PURE__ */ notImplementedClass(\"http.Server\");\r\nexport const OutgoingMessage = /* @__PURE__ */ notImplementedClass(\"http.OutgoingMessage\");\r\nexport const ClientRequest = /* @__PURE__ */ notImplementedClass(\"http.ClientRequest\");\r\nexport const globalAgent = new Agent();\r\nexport const validateHeaderName = /* @__PURE__ */ notImplemented(\"http.validateHeaderName\");\r\nexport const validateHeaderValue = /* @__PURE__ */ notImplemented(\"http.validateHeaderValue\");\r\nexport const setMaxIdleHTTPParsers = /* @__PURE__ */ notImplemented(\"http.setMaxIdleHTTPParsers\");\r\nexport const _connectionListener = /* @__PURE__ */ notImplemented(\"http._connectionListener\");\r\nexport const WebSocket = globalThis.WebSocket || /* @__PURE__ */ notImplementedClass(\"WebSocket\");\r\nexport const CloseEvent = globalThis.CloseEvent || /* @__PURE__ */ notImplementedClass(\"CloseEvent\");\r\nexport const MessageEvent = globalThis.MessageEvent || /* @__PURE__ */ notImplementedClass(\"MessageEvent\");\r\nexport default {\r\n\tMETHODS,\r\n\tSTATUS_CODES,\r\n\tmaxHeaderSize,\r\n\tIncomingMessage,\r\n\tServerResponse,\r\n\tWebSocket,\r\n\tCloseEvent,\r\n\tMessageEvent,\r\n\tcreateServer,\r\n\trequest,\r\n\tget,\r\n\tServer,\r\n\tOutgoingMessage,\r\n\tClientRequest,\r\n\tAgent,\r\n\tglobalAgent,\r\n\tvalidateHeaderName,\r\n\tvalidateHeaderValue,\r\n\tsetMaxIdleHTTPParsers,\r\n\t_connectionListener\r\n};\r\n"],
  "mappings": "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",
  "names": []
}
